<ng-container *ngIf="group">
  <h1 class="m-0 groupName" *ngIf="!editMode">
    <span (click)="changeMode()">{{ group.name }}</span>
    <button class="ml-2" nbButton size="tiny" shape="semi-round" status="primary" (click)="changeMode()">
      <nb-icon icon="edit-outline"></nb-icon>
    </button>
    <button class="ml-2" nbButton size="tiny" shape="semi-round" status="danger" (click)="delete()">
      <nb-icon icon="trash-2-outline"></nb-icon>
    </button>
  </h1>
  <div *ngIf="editMode">
    <input type="text" [(ngModel)]="group.name" nbInput fieldSize="large" shape="semi-round">
    <button class="ml-2" nbButton size="tiny" shape="semi-round" fieldSize="large" status="success"
            (click)="save(); editMode = false">
      <nb-icon icon="edit-outline"></nb-icon>
    </button>
  </div>

  <div class="h4 mt-4">Members</div>
  <ng-container *ngIf="group.user.length > 0; then list else empty"></ng-container>
  <ng-template #list>
    <div class="row">
      <div class="col-6" *ngFor="let member of group.user">
        <nb-card class="member">
          <div class="row">
            <div class="col-10">
              <p>
                {{ member.lastname + ' ' + member.name }} <b>({{ member.role|titlecase }})</b>
              </p>
              <p>
                {{ member.email }}
              </p>
            </div>
            <div class="col-2" *ngIf="member.role !== 'admin'">
              <button (click)="deleteMember(member)" class="ml-2" nbButton size="tiny" shape="semi-round" status="danger">
                <nb-icon icon="trash-2-outline"></nb-icon>
              </button>
            </div>
          </div>
        </nb-card>
      </div>
    </div>
  </ng-template>
  <ng-template #empty>
    <div class="h6">No member in this group</div>
  </ng-template>
</ng-container>
